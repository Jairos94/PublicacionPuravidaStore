"use strict";(self.webpackChunkFrontEndPuraVidaStore=self.webpackChunkFrontEndPuraVidaStore||[]).push([[127],{1127:(tt,P,r)=>{r.r(P),r.d(P,{VentasModule:()=>f});var M=r(6895),k=r(8590),d=r(805),t=r(8256),c=r(529),y=r(2340);class p{constructor(o){this.http=o,this.baseUrl=y.N.urlBase}listaImpuestos(){return this.http.get(`${this.baseUrl}Impuesto/ObtenerListaImpuestos`)}listaImpuestosPorDescripcion(o){const e=(new c.LE).set("descripcion",o);return this.http.get(`${this.baseUrl}Impuesto/ObtenerImpuestosPorDescripcion`,{params:e})}guardarImpuesto(o){return this.http.post(`${this.baseUrl}Impuesto/GuardarImpuesto`,o)}obtenerImpuestoId(o){const e=(new c.LE).set("id",o);return this.http.get(`${this.baseUrl}Impuesto/ObtenerImpuestoporId`,{params:e})}}p.\u0275fac=function(o){return new(o||p)(t.LFG(c.eN))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});var I=r(5593),F=r(1493),A=r(1740),s=r(433),v=r(8396),N=r(2453),D=r(1795);function w(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.displayModal=!1)}),t.qZA(),t.TgZ(1,"button",23),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.Guardar())}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.deshabilitarBotonGuardar)}}function J(i,o){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"#"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Impuesto"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Porcentaje"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Acciones"),t.qZA()())}function S(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",24),t.NdJ("click",function(){const l=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.editarUsuario(l,!1))}),t.qZA(),t.TgZ(9,"button",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.editarUsuario(l,!0))}),t.qZA()()()}if(2&i){const e=o.$implicit,a=t.oxw();t.xp6(2),t.Oqu(e.impId),t.xp6(2),t.Oqu(e.impDescripcion),t.xp6(2),t.hij("",e.impPorcentaje,"%"),t.xp6(2),t.Q6J("disabled",!a.esAdministrador),t.xp6(1),t.Q6J("disabled",!a.esAdministrador)}}const q=function(){return{width:"50vw"}},U=function(){return{"min-width":"50rem"}};class _{constructor(o,e){this.messageService=o,this.servicioImpuesto=e,this.listaImpuestos=[],this.displayModal=!1,this.deshabilitarBotonGuardar=!0,this.esEliminar=!1,this.buscador="",this.titulo="",this.esAdministrador=k.o.esAministrador(),this.impuestoSelecionado={impId:0,impDescripcion:"",impPorcentaje:0,impActivo:!0}}ngOnInit(){this.obtenerLista()}obtenerLista(){this.servicioImpuesto.listaImpuestos().subscribe({next:o=>{this.listaImpuestos=[],this.listaImpuestos=o},error:o=>{console.log(o)}})}limpiar(){this.impuestoSelecionado={impId:0,impDescripcion:"",impPorcentaje:0,impActivo:!0},this.esEliminar=!1}Guardar(){this.servicioImpuesto.guardarImpuesto(this.impuestoSelecionado).subscribe({next:o=>{this.obtenerLista()},error:o=>{console.log(o)}}),this.esEliminar?this.showError():this.showSuccess(),this.limpiar(),this.displayModal=!1}cambioDeshabilitar(){this.deshabilitarBotonGuardar=!(""!=this.impuestoSelecionado.impDescripcion&&this.impuestoSelecionado.impPorcentaje>0)}editarUsuario(o,e){this.impuestoSelecionado=o,this.esEliminar=e,e?(this.impuestoSelecionado.impActivo=!1,this.Guardar()):(this.cambioDeshabilitar(),this.showModalDialog())}filtrar(){this.servicioImpuesto.listaImpuestosPorDescripcion(this.buscador).subscribe({next:o=>{o.length>0?(this.listaImpuestos=[],this.listaImpuestos=o):this.obtenerLista()},error:o=>{this.obtenerLista()}})}showSuccess(){this.messageService.add({severity:"success",summary:"Se guard\xf3 satisfactoriamente",detail:"El dato ingresado se registro con \xe9xito"})}showError(){this.messageService.add({severity:"error",summary:"Cambio de estado",detail:"Se cambio el estado del registro"})}showModalDialog(){this.impuestoSelecionado.impId>0?this.titulo="Editar Impuesto":(this.limpiar(),this.titulo="Agregar Impuesto"),this.displayModal=!0}}_.\u0275fac=function(o){return new(o||_)(t.Y36(d.ez),t.Y36(p))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-impuestos"]],features:[t._Bn([d.ez])],decls:28,vars:15,consts:[[3,"header","visible","modal","draggable","resizable","visibleChange"],[1,"grid","my-4"],[1,"col"],[1,"p-float-label"],["type","text","id","descripcion","name","descripcion","required","","pInputText","",3,"ngModel","input","ngModelChange"],["descripcion","ngModel"],["for","descripcion"],["type","number","id","porcentaje","name","porcentaje","min","0","pInputText","","required","",3,"ngModel","input","ngModelChange"],["porcentaje","ngModel"],["for","porcentaje"],["pTemplate","footer"],[1,"field","my-2"],[1,"grid"],[1,"col-1"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded",3,"disabled","click"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","Buscar",3,"ngModel","ngModelChange","input"],["type","button","pButton","","pRipple","","icon","pi pi-search","styleClass","p-button-warn",3,"click"],[1,"field"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","type","button","icon","pi pi-save","label","Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-save","label","Guardar",1,"p-button-text",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"disabled","click"]],template:function(o,e){1&o&&(t._UZ(0,"p-toast"),t.TgZ(1,"p-dialog",0),t.NdJ("visibleChange",function(n){return e.displayModal=n}),t.TgZ(2,"div",1)(3,"div",2)(4,"span",3)(5,"input",4,5),t.NdJ("input",function(){return e.cambioDeshabilitar()})("ngModelChange",function(n){return e.impuestoSelecionado.impDescripcion=n}),t.qZA(),t.TgZ(7,"label",6),t._uU(8,"Descripci\xf3n del impuesto"),t.qZA()()(),t.TgZ(9,"div",2)(10,"span",3)(11,"input",7,8),t.NdJ("input",function(){return e.cambioDeshabilitar()})("ngModelChange",function(n){return e.impuestoSelecionado.impPorcentaje=n}),t.qZA(),t.TgZ(13,"label",9),t._uU(14,"Porcentaje"),t.qZA()()()(),t.YNc(15,w,2,1,"ng-template",10),t.qZA(),t.TgZ(16,"div",11)(17,"div",12)(18,"div",13)(19,"button",14),t.NdJ("click",function(){return e.showModalDialog()}),t.qZA()(),t.TgZ(20,"div",2)(21,"div",15)(22,"input",16),t.NdJ("ngModelChange",function(n){return e.buscador=n})("input",function(){return e.filtrar()}),t.qZA(),t.TgZ(23,"button",17),t.NdJ("click",function(){return e.filtrar()}),t.qZA()()()()(),t.TgZ(24,"div",18)(25,"p-table",19),t.YNc(26,J,9,0,"ng-template",20),t.YNc(27,S,10,5,"ng-template",21),t.qZA()()),2&o&&(t.xp6(1),t.Akn(t.DdM(13,q)),t.s9C("header",e.titulo),t.Q6J("visible",e.displayModal)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(4),t.Q6J("ngModel",e.impuestoSelecionado.impDescripcion),t.xp6(6),t.Q6J("ngModel",e.impuestoSelecionado.impPorcentaje),t.xp6(8),t.Q6J("disabled",!e.esAdministrador),t.xp6(3),t.Q6J("ngModel",e.buscador),t.xp6(3),t.Q6J("value",e.listaImpuestos)("tableStyle",t.DdM(14,U)))},dependencies:[d.jx,I.Hq,F.V,A.o,s.Fj,s.wV,s.JJ,s.Q7,s.qQ,s.On,v.iA,N.FN,D.H]});var B=r(8505),E=r(3441);class u{constructor(o){this.http=o,this.baseUrl=y.N.urlBase}listaFormaPago(){return this.http.get(`${this.baseUrl}Ventas/ObtenerFormasPago`)}}u.\u0275fac=function(o){return new(o||u)(t.LFG(c.eN))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});class m{constructor(o){this.http=o,this.baseUrl=y.N.urlBase}obtenerMayoristaPorCedula(o){const e=(new c.LE).set("buscador",o);return this.http.get(`${this.baseUrl}Mayorista/clienteMayoristaPorCedulaoId`,{params:e})}}m.\u0275fac=function(o){return new(o||m)(t.LFG(c.eN))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var V=r(2210),R=r(5047);function L(i,o){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Producto"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"C\xf3digo"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Imagen"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Precio"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Cantidad"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Acciones"),t.qZA()())}function Q(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"input",33),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.dtfCantidad=n)})("input",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.sumarTotal())}),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("ngModel",e.dtfCantidad)}}function j(i,o){if(1&i&&t._uU(0),2&i){const e=t.oxw().$implicit;t.hij(" ",e.dtfCantidad," ")}}function G(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"img",28),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td",29)(11,"p-cellEditor"),t.YNc(12,Q,1,1,"ng-template",30),t.YNc(13,j,1,1,"ng-template",31),t.qZA()(),t.TgZ(14,"td")(15,"button",32),t.NdJ("click",function(){const l=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.eliminarDeLaLista(l.dtfId))}),t.qZA()()()}if(2&i){const e=o.$implicit,a=t.oxw();t.xp6(2),t.Oqu(e.dtfIdProducto1.prdNombre),t.xp6(2),t.AsE(" ",e.dtfIdProducto1.prdCodigo," / ",e.dtfIdProducto1.prdCodigoProvedor," "),t.xp6(2),t.Q6J("src",a.leerArchivo(e.dtfIdProducto1.pdrFoto),t.LSH),t.xp6(2),t.hij(" ",t.Dn7(9,6,e.dtfPrecio,"CRC","symbol-narrow")," "),t.xp6(2),t.Q6J("pEditableColumn",e.dtfCantidad)}}function O(i,o){if(1&i&&(t.TgZ(0,"div")(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"div",1),t._uU(4),t.qZA(),t.TgZ(5,"div",1),t._uU(6),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.lnq("",e.personaMayorista.psrNombre," ",e.personaMayorista.psrApellido1," ",e.personaMayorista.psrApellido2,""),t.xp6(2),t.hij("Id: ",e.mayorista.clmId,""),t.xp6(2),t.hij("C\xe9dula: ",e.personaMayorista.psrIdentificacion,"")}}function z(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"p-button",34),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.verModal=!1)}),t.qZA()}}function Y(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"p-button",35),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.verModalPago=!1)}),t.qZA(),t.TgZ(1,"p-button",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.verModalPago=!1)}),t.qZA()}}function H(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"p-button",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.verMayoristaModal=!1)}),t.qZA(),t.TgZ(1,"p-button",38),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.obtenerClienteMayoristaporCedulaOId())}),t.qZA()}}const $=function(){return[5,7,10]},T=function(){return{width:"50vw"}},x=function(){return{"960px":"75vw"}};class g{constructor(o,e,a,n){this.servicioPorducto=o,this.servicioVenta=e,this.servicioMayorista=a,this.messageService=n,this.pagoCon=0,this.cambio=0,this.totalCantidad=0,this.total=0,this.buscadorCodigoBarras="",this.buscadorCedulaOId="",this.pagarDeshabilitado=!0,this.cambioDeshabilitar=!1,this.mayoristaDeshabilitado=!0,this.verModal=!1,this.verModalPago=!1,this.verMayoristaModal=!1,this.listaDtealle=[],this.listaFormaPago=[],this.formaPagoSeleccionado={frpId:1,frpDescripcion:"Efectivo"},this.productoBuscado={prdId:0,prdNombre:"",prdPrecioVentaMayorista:0,prdPrecioVentaMinorista:0,prdCodigo:"",prdUnidadesMinimas:0,prdIdTipoProducto:0,prdCodigoProvedor:"",pdrVisible:!0,pdrFoto:null,pdrTieneExistencias:!1,prdIdTipoProductoNavigation:null},this.detalleSeleccionado={dtfId:0,dtfIdProducto:0,dtfIdFactura:0,dtfPrecio:0,dtfDescuento:0,dtfCantidad:0,dtfIdProducto1:this.productoBuscado,dtfIdProductoNavigation:null},this.fecha=new Date,this.personaMayorista={psrId:0,psrIdentificacion:"",psrNombre:"",psrApellido1:"",psrApellido2:""},this.mayorista={clmId:0,clmIdPersona:0,clmFechaCreacion:this.fecha.toString(),clmFechaVencimiento:this.fecha.toString(),clmCorreo:"",clmTelefono:"",clmIdPersonaNavigation:this.personaMayorista,historialClienteMayorista:null},this.factura={ftrId:0,ftrFecha:"",ftrIdUsuario:0,ftrMayorista:null,ftrEstatusId:0,ftrBodega:0,ftrFormaPago:0,ftrEsFacturaNula:!1,ftrCodigoFactura:null,ftrEstatus:null,ftrFormaPagoNavigation:null,ftrIdUsuarioNavigation:null,ftrMayoristaNavigation:null,detalleFacturas:null,facturaResumen:null,impuestosPorFacturas:null},this.facturaResumen={ftrId:0,ftrFactura:0,ftrMontoTotal:0,ftrMontoPagado:0,ftrCambio:0,ftrFacturaNavigation:null}}ngOnInit(){this.obtenerFormaPago()}buscarProductoPorCodigodBarras(){this.servicioPorducto.ObtenerProductoPorCodigo(this.buscadorCodigoBarras).subscribe({next:o=>{this.limpiarDetalle(),this.productoBuscado=o,this.cargarListaDetalle(),this.sumarTotal()},error:o=>{console.log(o),this.showError("No hay resultados","No se encontr\xf3 resultados con los datos suministrados")}})}obtenerFormaPago(){this.servicioVenta.listaFormaPago().subscribe({next:o=>{this.listaFormaPago=[],this.listaFormaPago=o},error:o=>{console.log(o)}})}obtenerClienteMayoristaporCedulaOId(){this.servicioMayorista.obtenerMayoristaPorCedula(this.buscadorCedulaOId).subscribe({next:o=>{this.limpiarMayorista(),this.buscadorCedulaOId="",this.mayorista=o,null!=this.mayorista.clmIdPersonaNavigation&&(this.personaMayorista=this.mayorista.clmIdPersonaNavigation),this.sumarTotal(),this.verMayoristaModal=!1},error:o=>{console.log(o)}})}sumarTotal(){this.total=0,this.totalCantidad=0,this.pagarDeshabilitado=!1,this.listaDtealle.forEach((o,e)=>{null!=o.dtfIdProducto1&&(this.mayorista.clmId>0?(console.log("Entro al true de venta mayorista"),o.dtfPrecio=o.dtfIdProducto1.prdPrecioVentaMayorista):(console.log("Entro al false (venta regular)"),o.dtfPrecio=o.dtfIdProducto1.prdPrecioVentaMinorista)),this.total=this.total+o.dtfCantidad*o.dtfPrecio,this.totalCantidad=this.totalCantidad+o.dtfCantidad,this.mayoristaDeshabilitado=!(this.totalCantidad>=3)}),this.mayoristaDeshabilitado&&this.limpiarMayorista(),this.listaDtealle.length<=0&&this.cancelar()}deshabilitarCambio(){this.formaPagoSeleccionado.frpId>1?(this.cambio=0,this.pagoCon=0,this.cambioDeshabilitar=!0):this.cambioDeshabilitar=!1}eliminarDeLaLista(o){this.listaDtealle.forEach((e,a)=>{e.dtfId===o&&this.listaDtealle.splice(a,1)}),this.listaDtealle.sort(),this.sumarTotal()}cargarListaDetalle(){this.buscadorCodigoBarras="",this.detalleSeleccionado.dtfIdProducto=this.productoBuscado.prdId,this.detalleSeleccionado.dtfPrecio=this.mayorista.clmId>0?this.productoBuscado.prdPrecioVentaMayorista:this.productoBuscado.prdPrecioVentaMinorista,this.detalleSeleccionado.dtfCantidad=1,this.detalleSeleccionado.dtfIdProducto1=this.productoBuscado;let o=!1;this.listaDtealle.length>0?(this.listaDtealle.forEach(e=>{e.dtfIdProducto===this.detalleSeleccionado.dtfIdProducto&&(e.dtfCantidad=e.dtfCantidad+this.detalleSeleccionado.dtfCantidad,o=!0)}),o||this.listaDtealle.push(this.detalleSeleccionado)):this.listaDtealle.push(this.detalleSeleccionado)}limpiarMayorista(){this.personaMayorista={psrId:0,psrIdentificacion:"",psrNombre:"",psrApellido1:"",psrApellido2:""},this.mayorista={clmId:0,clmIdPersona:0,clmFechaCreacion:this.fecha.toString(),clmFechaVencimiento:this.fecha.toString(),clmCorreo:"",clmTelefono:"",clmIdPersonaNavigation:this.personaMayorista,historialClienteMayorista:null}}limpiarDetalle(){this.productoBuscado={prdId:0,prdNombre:"",prdPrecioVentaMayorista:0,prdPrecioVentaMinorista:0,prdCodigo:"",prdUnidadesMinimas:0,prdIdTipoProducto:0,prdCodigoProvedor:"",pdrVisible:!0,pdrFoto:null,pdrTieneExistencias:!1,prdIdTipoProductoNavigation:null},this.detalleSeleccionado={dtfId:0,dtfIdProducto:0,dtfIdFactura:0,dtfPrecio:0,dtfDescuento:0,dtfCantidad:0,dtfIdProducto1:this.productoBuscado,dtfIdProductoNavigation:null}}leerArchivo(o){return null==o&&(o=""),B.Z.lectorImagen(o)}hacerCambio(){this.pagoCon>this.total&&(this.cambio=this.pagoCon-this.total)}cancelar(){this.limpiarMayorista(),this.pagoCon=0,this.cambio=0,this.pagarDeshabilitado=!0,this.totalCantidad=0,this.cambioDeshabilitar=!1,this.total=0,this.mayoristaDeshabilitado=!0,this.verModal=!1,this.verModalPago=!1,this.listaDtealle=[],this.limpiarDetalle(),this.formaPagoSeleccionado={frpId:1,frpDescripcion:"Efectivo"},this.personaMayorista={psrId:0,psrIdentificacion:"",psrNombre:"",psrApellido1:"",psrApellido2:""},this.factura={ftrId:0,ftrFecha:"",ftrIdUsuario:0,ftrMayorista:null,ftrEstatusId:0,ftrBodega:0,ftrFormaPago:0,ftrEsFacturaNula:!1,ftrCodigoFactura:null,ftrEstatus:null,ftrFormaPagoNavigation:null,ftrIdUsuarioNavigation:null,ftrMayoristaNavigation:null,detalleFacturas:null,facturaResumen:null,impuestosPorFacturas:null}}showResponsiveDialogPago(){this.verModalPago=!0}showResponsiveDialogMayorista(){this.verMayoristaModal=!0}showResponsiveDialog(){this.verModal=!0}showError(o,e){this.messageService.add({severity:"error",summary:o,detail:e})}showSuccess(){this.messageService.add({severity:"success",summary:"Success",detail:"Message Content"})}}g.\u0275fac=function(o){return new(o||g)(t.Y36(E.M),t.Y36(u),t.Y36(m),t.Y36(d.ez))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-facturacion"]],features:[t._Bn([d.ez])],decls:55,vars:54,consts:[[1,"my-2"],[1,"field"],[1,"grid"],[1,"col"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","Buscar producto por c\xf3digo",1,"w-full",3,"ngModel","ngModelChange","keyup.enter"],["type","button","pButton","","pRipple","","icon","pi pi-search","styleClass","p-button-warn",3,"click"],[1,"col-3"],["icon","pi pi-external-link","label","Ver productos",3,"click"],[1,"col-8"],[3,"value","rows","paginator","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],["pButton","","type","button","label","Pagar","icon","pi pi-wallet",1,"p-button-success","w-full",3,"disabled","click"],["pButton","","type","button","label","Cancelar","icon","pi pi-times",1,"p-button-danger","w-full",3,"click"],["pButton","","type","button","label","Mayorista","icon","pi pi-user",1,"p-button-secondary","w-full",3,"disabled","click"],["header","Godfather I",3,"visible","modal","maximizable","draggable","resizable","visibleChange"],["pTemplate","footer"],["header","Realizar pago",3,"visible","breakpoints","draggable","resizable","visibleChange"],["placeholder","Forma de pago","optionLabel","frpDescripcion",3,"options","ngModel","showClear","ngModelChange","onChange"],[1,"grid","my-2"],["for","moneda-CR"],["inputId","moneda-CR","mode","currency","currency","CRC","locale","es-CR",3,"ngModel","disabled","ngModelChange","keyup.enter"],["header","Mayorista",3,"visible","breakpoints","draggable","resizable","visibleChange"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","text","pInputText","","placeholder","Buscar cliente mayorista por c\xe9dula o Id",3,"ngModel","ngModelChange","keyup.enter"],["width","100",1,"shadow-4",3,"src"],["pEditableColumnField","Cantidad",3,"pEditableColumn"],["pTemplate","input"],["pTemplate","output"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["pInputText","","type","text","required","",3,"ngModel","ngModelChange","input"],["icon","pi pi-check","label","Salir","styleClass","p-button-text",3,"click"],["label","No","styleClass","p-button-text",3,"click"],["label","Yes","styleClass","p-button-text",3,"click"],["label","Cancelar","styleClass","p-button-text",3,"click"],["label","Aceptar","styleClass","p-button-text",3,"click"]],template:function(o,e){1&o&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),t.NdJ("ngModelChange",function(n){return e.buscadorCodigoBarras=n})("keyup.enter",function(){return e.buscarProductoPorCodigodBarras()}),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return e.buscarProductoPorCodigodBarras()}),t.qZA()()(),t.TgZ(8,"div",7)(9,"p-button",8),t.NdJ("click",function(){return e.showResponsiveDialog()}),t.qZA()()()(),t.TgZ(10,"div",2)(11,"div",9)(12,"p-table",10),t.YNc(13,L,13,0,"ng-template",11),t.YNc(14,G,16,10,"ng-template",12),t.qZA()(),t.TgZ(15,"div",3)(16,"div",1)(17,"H1"),t._uU(18),t.ALo(19,"currency"),t.qZA()(),t.YNc(20,O,7,5,"div",13),t.TgZ(21,"div",1)(22,"button",14),t.NdJ("click",function(){return e.showResponsiveDialogPago()}),t.qZA()(),t.TgZ(23,"div",1)(24,"button",15),t.NdJ("click",function(){return e.cancelar()}),t.qZA()(),t.TgZ(25,"div",1)(26,"button",16),t.NdJ("click",function(){return e.showResponsiveDialogMayorista()}),t.qZA()()()()(),t.TgZ(27,"p-dialog",17),t.NdJ("visibleChange",function(n){return e.verModal=n}),t.TgZ(28,"p"),t._uU(29," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),t.qZA(),t.YNc(30,z,1,0,"ng-template",18),t.qZA(),t.TgZ(31,"p-dialog",19),t.NdJ("visibleChange",function(n){return e.verModalPago=n}),t.TgZ(32,"p"),t._uU(33," Seleccione una forma de pago: "),t.TgZ(34,"p-dropdown",20),t.NdJ("ngModelChange",function(n){return e.formaPagoSeleccionado=n})("onChange",function(){return e.deshabilitarCambio()}),t.qZA()(),t.TgZ(35,"div",21)(36,"div",3)(37,"label",22),t._uU(38,"Paga con "),t.qZA(),t.TgZ(39,"p-inputNumber",23),t.NdJ("ngModelChange",function(n){return e.pagoCon=n})("keyup.enter",function(){return e.hacerCambio()}),t.qZA()(),t.TgZ(40,"div",3)(41,"div",1),t._uU(42),t.ALo(43,"currency"),t.qZA(),t.TgZ(44,"div",1),t._uU(45),t.ALo(46,"currency"),t.qZA()()(),t.YNc(47,Y,2,0,"ng-template",18),t.qZA(),t.TgZ(48,"p-dialog",24),t.NdJ("visibleChange",function(n){return e.verMayoristaModal=n}),t.TgZ(49,"div",4)(50,"span",25),t._UZ(51,"i",26),t.qZA(),t.TgZ(52,"input",27),t.NdJ("ngModelChange",function(n){return e.buscadorCedulaOId=n})("keyup.enter",function(){return e.obtenerClienteMayoristaporCedulaOId()}),t.qZA(),t.TgZ(53,"button",6),t.NdJ("click",function(){return e.obtenerClienteMayoristaporCedulaOId()}),t.qZA()(),t.YNc(54,H,2,0,"ng-template",18),t.qZA()),2&o&&(t.xp6(6),t.Q6J("ngModel",e.buscadorCodigoBarras),t.xp6(6),t.Q6J("value",e.listaDtealle)("rows",5)("paginator",!0)("rowsPerPageOptions",t.DdM(48,$)),t.xp6(6),t.hij("Total: ",t.Dn7(19,36,e.total,"CRC","symbol-narrow"),""),t.xp6(2),t.Q6J("ngIf",e.mayorista.clmId>0&&e.listaDtealle.length>0),t.xp6(2),t.Q6J("disabled",e.pagarDeshabilitado),t.xp6(4),t.Q6J("disabled",e.mayoristaDeshabilitado),t.xp6(1),t.Akn(t.DdM(49,T)),t.Q6J("visible",e.verModal)("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1),t.xp6(4),t.Akn(t.DdM(50,T)),t.Q6J("visible",e.verModalPago)("breakpoints",t.DdM(51,x))("draggable",!1)("resizable",!1),t.xp6(3),t.Q6J("options",e.listaFormaPago)("ngModel",e.formaPagoSeleccionado)("showClear",!0),t.xp6(5),t.Q6J("ngModel",e.pagoCon)("disabled",e.cambioDeshabilitar),t.xp6(3),t.hij(" Total a pagar : ",t.Dn7(43,40,e.total,"CRC","symbol-narrow")," "),t.xp6(3),t.hij(" Cambio: ",t.Dn7(46,44,e.cambio,"CRC","symbol-narrow")," "),t.xp6(3),t.Akn(t.DdM(52,T)),t.Q6J("visible",e.verMayoristaModal)("breakpoints",t.DdM(53,x))("draggable",!1)("resizable",!1),t.xp6(4),t.Q6J("ngModel",e.buscadorCedulaOId))},dependencies:[M.O5,d.jx,I.Hq,I.zx,F.V,V.Lt,R.Rn,A.o,s.Fj,s.JJ,s.Q7,s.On,v.iA,v.Wq,v.YL,N.FN,D.H,M.H9]});var Z=r(8184),K=r(7919);class b{constructor(){this.items=[]}ngOnInit(){this.items=[{label:"Facturaci\xf3n",icon:"pi pi-fw pi-file",routerLink:"facturacion"},{label:"Impuestos",icon:"pi pi-fw pi-file",routerLink:"impuestos"}]}}b.\u0275fac=function(o){return new(o||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-ventas"]],decls:5,vars:1,consts:[[1,"formgrid","grid","my-2"],[1,"field","col-2"],[3,"model"],[1,"field","col"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"p-panelMenu",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"router-outlet"),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("model",e.items))},dependencies:[Z.lC,K.f3]});const X=[{path:"",component:b,children:[{path:"",component:g},{path:"facturacion",component:g},{path:"impuestos",component:_},{path:"**",redirectTo:"/"}]}];class h{}h.\u0275fac=function(o){return new(o||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[Z.Bz.forChild(X),Z.Bz]});var W=r(6949);class f{}f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[M.ez,h,W.R,s.u5]})}}]);